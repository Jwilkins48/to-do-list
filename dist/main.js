(()=>{"use strict";const e=document.querySelector(".toDoContainer"),t=document.querySelector("#projectName"),n=document.querySelector("#taskSubmitBtn"),a=document.querySelector(".taskForm"),c=document.querySelector("#taskName"),d=document.querySelector("#taskDesc");let l=[],s=0;const i=()=>{e.innerHTML="";const n=document.createElement("div");n.classList.add("taskTitleDiv"),e.appendChild(n);const c=document.createElement("h1");c.classList.add("taskTitle"),n.appendChild(c);const d=document.createElement("div");d.classList.add("taskBtnDiv"),n.appendChild(d);const l=document.createElement("button");l.addEventListener("click",(function(){a.classList.add("active")}));const s=document.createElement("plusContainer");return l.appendChild(s),s.innerHTML='<img src="imgs/bluePlus.png" alt="add" width="33" height="33">',l.classList.add("addTaskBtn"),d.appendChild(l),c.innerHTML=t.value,n};n.addEventListener("click",(()=>{""!==c.value.trim()?(((e,t)=>{const n={title:e,description:t,checked:!1,id:s++};l.push(n),console.log(l)})(c.value,d.value),a.classList.remove("active"),(()=>{let t=document.createElement("div");t.classList.add("taskCardContainer");let n=document.createElement("div");n.classList.add("taskCard");let a=document.createElement("h1");a.classList.add("taskCardTitle"),a.textContent=c.value;let s=document.createElement("p");s.classList.add("taskDescription"),s.textContent=d.value;let i=document.createElement("button");i.classList.add("taskOptions"),i.innerHTML='<i class="fa-solid fa-xmark"></i>',n.appendChild(a),n.appendChild(s),n.appendChild(i),t.appendChild(n),e.appendChild(t),i.addEventListener("click",(()=>{t.removeChild(n),l.splice(n,1)}))})()):alert("Please enter task name")}));const o=document.querySelector(".projectForm"),r=document.querySelector("#projectSubmitBtn"),u=document.querySelector("#projectCloseBtn"),m=document.querySelector(".addProjectBtn"),p=document.querySelector("#projectName"),v=document.querySelector("#projectNameContainer"),L=document.querySelector("#taskCloseBtn"),C=document.querySelector(".taskForm");let k=[],h=localStorage.getItem("projectsList");h=JSON.parse(h||JSON.stringify(k));let E=0;const S=()=>(m.addEventListener("click",g),u.addEventListener("click",j),r.addEventListener("click",y),L.addEventListener("click",b),j(),S),y=e=>{j();const t={name:p.value,id:E++,allTasks:[]};h.push(t),localStorage.setItem("projectsList",JSON.stringify(h)),localStorage.setItem("currentId",t.id.toString()),console.log(h),h.forEach((e=>{q(t.name)})),e.preventDefault()},q=e=>{let t=document.createElement("button");t.addEventListener("click",i),t.classList.add("projectDiv");let n=document.createElement("div");n.classList.add("buttonContainer");let a=document.createElement("button");a.textContent="Delete",a.classList.add("deleteBtn");let c=document.createElement("button");c.textContent="Edit",c.classList.add("editBtn");let d=document.createElement("p");d.textContent=e,d.classList.add("projectDisplay"),t.appendChild(d),n.appendChild(c),n.appendChild(a),t.appendChild(n),v.appendChild(t),a.addEventListener("click",(()=>{v.removeChild(t),k.splice(t,1)}))},g=()=>{p.value="",o.classList.add("active")},j=()=>{o.classList.remove("active")},b=()=>{C.classList.remove("active")};S()})();