(()=>{"use strict";const e=document.querySelector(".toDoContainer"),t=document.querySelector("#projectName"),n=document.querySelector("#taskSubmitBtn"),c=document.querySelector(".taskForm"),a=document.querySelector("#taskName"),d=document.querySelector("#taskDesc");let l=[],s=0;const o=()=>{e.innerHTML="";const n=document.createElement("div");n.classList.add("taskTitleDiv"),e.appendChild(n);const a=document.createElement("h1");a.classList.add("taskTitle"),n.appendChild(a);const d=document.createElement("div");d.classList.add("taskBtnDiv"),n.appendChild(d);const l=document.createElement("button");l.addEventListener("click",(function(){c.classList.add("active")}));const s=document.createElement("plusContainer");return l.appendChild(s),s.innerHTML='<img src="imgs/bluePlus.png" alt="add" width="33" height="33">',l.classList.add("addTaskBtn"),d.appendChild(l),a.innerHTML=t.value,n};n.addEventListener("click",(()=>{""!==a.value.trim()?(((e,t)=>{const n={title:e,description:t,checked:!1,id:s++};l.push(n),console.log(l)})(a.value,d.value),c.classList.remove("active"),(()=>{let t=document.createElement("div");t.classList.add("taskCardContainer");let n=document.createElement("div");n.classList.add("taskCard");let c=document.createElement("h1");c.classList.add("taskCardTitle"),c.textContent=a.value;let s=document.createElement("p");s.classList.add("taskDescription"),s.textContent=d.value;let o=document.createElement("button");o.classList.add("taskOptions"),o.innerHTML='<i class="fa-solid fa-xmark"></i>',n.appendChild(c),n.appendChild(s),n.appendChild(o),t.appendChild(n),e.appendChild(t),o.addEventListener("click",(()=>{t.removeChild(n),l.splice(n,1)}))})()):alert("Please enter task name")}));const i=document.querySelector(".projectForm"),r=document.querySelector("#projectSubmitBtn"),u=document.querySelector("#projectCloseBtn"),m=document.querySelector(".addProjectBtn"),p=document.querySelector("#projectName"),v=document.querySelector("#projectNameContainer"),L=document.querySelector("#taskCloseBtn"),C=document.querySelector(".taskForm");let k=localStorage.getItem("projectsList");k=JSON.parse(k||JSON.stringify([]));let h=0;const E=()=>(m.addEventListener("click",j),u.addEventListener("click",b),r.addEventListener("click",S),L.addEventListener("click",B),g(),b(),E),S=()=>{let e=p.value,t=q();const n=((e,t)=>{const n=[];return{data:e,name:t,id:h++,allTasks:n,taskNum:n.length}})(t,e);k.push(n),console.log(k),g(),y(t,n),b()},y=(e,t)=>{let n=document.createElement("div");n.setAttribute("data-project",e),n.addEventListener("click",o),n.classList.add("projectDiv");let c=document.createElement("div");c.classList.add("buttonContainer");let a=document.createElement("button");a.textContent="Delete",a.classList.add("deleteBtn");let d=document.createElement("button");d.textContent="Edit",d.classList.add("editBtn");let l=document.createElement("p");l.textContent=t.name,l.classList.add("projectDisplay"),n.appendChild(l),c.appendChild(d),c.appendChild(a),n.appendChild(c),v.appendChild(n),a.addEventListener("click",(()=>{v.removeChild(n),k.splice(n,1)}))},q=()=>{const e=document.querySelectorAll(".projectDiv");return console.log(e),e.length},g=()=>{localStorage.setItem("projectsList",JSON.stringify(k))},j=()=>{p.value="",i.classList.add("active")},b=()=>{i.classList.remove("active")},B=()=>{C.classList.remove("active")};E()})();